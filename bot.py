import telebot
from telebot import types
from datetime import datetime, time
from dotenv import load_dotenv
import os
from pathlib import Path


# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑ .env —Ä—è–¥–æ–º —Å bot.py
env_path = Path(__file__).parent / ".env"
load_dotenv(dotenv_path=env_path)

BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")

if not BOT_TOKEN:
    raise RuntimeError(f"–ù–µ –∑–∞–¥–∞–Ω TELEGRAM_BOT_TOKEN –≤ .env –ø–æ –ø—É—Ç–∏ {env_path}")

bot = telebot.TeleBot(BOT_TOKEN)

# –ù–æ—á–Ω–æ–π –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–ª—è NightGuard
NIGHT_START = time(22, 0)
NIGHT_END = time(9, 0)


def is_night() -> bool:
    """–ü—Ä–æ–≤–µ—Ä–∫–∞: —Å–µ–π—á–∞—Å –Ω–æ—á—å –∏–ª–∏ –Ω–µ—Ç."""
    now = datetime.now().time()
    return NIGHT_START <= now or now <= NIGHT_END


@bot.message_handler(commands=['start'])
def start(message):
    markup = types.ReplyKeyboardMarkup(resize_keyboard=True)
    markup.add('/track', '/templates', '/night', '/pay')
    bot.send_message(
        message.chat.id,
        (
            'üî• TrackOrderPro WB/Ozon\n'
            '/track 123456 ‚Üí —Å—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞\n'
            '/templates ‚Üí —à–∞–±–ª–æ–Ω—ã –æ—Ç–≤–µ—Ç–æ–≤\n'
            '/night ‚Üí –Ω–æ—á–Ω–æ–π —Ä–µ–∂–∏–º\n'
            '/pay ‚Üí 300‚ÇΩ/–º–µ—Å'
        ),
        reply_markup=markup
    )


@bot.message_handler(commands=['track'])
def track(message):
    # –ü–æ–∫–∞ –∑–∞–≥–ª—É—à–∫–∞ –±–µ–∑ WB API
    bot.reply_to(
        message,
        'üì¶ /track 123456789\n'
        '(MVP: –ø–æ–∫–∞ –±–µ–∑ WB API, D3 –ø–æ–¥–∫–ª—é—á–∏–º —Ä–µ–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã)'
    )


# ---------- –ù–û–í–´–ô –ë–õ–û–ö –®–ê–ë–õ–û–ù–û–í ----------

@bot.message_handler(commands=['templates'])
def templates(message):
    """–ü–µ—Ä–≤—ã–π —ç–∫—Ä–∞–Ω: –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —à–∞–±–ª–æ–Ω–æ–≤."""
    markup = types.InlineKeyboardMarkup()
    markup.add(types.InlineKeyboardButton("–†–∞–∑–º–µ—Ä / –ø—Ä–∏–º–µ—Ä–∫–∞", callback_data="cat_size"))
    markup.add(types.InlineKeyboardButton("–î–æ—Å—Ç–∞–≤–∫–∞ / –∑–∞–¥–µ—Ä–∂–∫–∞", callback_data="cat_delivery"))
    markup.add(types.InlineKeyboardButton("–ü–í–ó / –ø–æ—Ç–µ—Ä—è–ª–æ—Å—å", callback_data="cat_pvz"))
    markup.add(types.InlineKeyboardButton("–í–æ–∑–≤—Ä–∞—Ç / –±—Ä–∞–∫", callback_data="cat_return"))
    markup.add(types.InlineKeyboardButton("–¶–µ–Ω–∞ / —Å–∫–∏–¥–∫–∏", callback_data="cat_price"))
    markup.add(types.InlineKeyboardButton("–≠–º–æ—Ü–∏–∏ / –æ—Ç–∑—ã–≤—ã", callback_data="cat_emotion"))

    bot.send_message(
        message.chat.id,
        "üí¨ –®–∞–±–ª–æ–Ω—ã WB: –≤—ã–±–µ—Ä–∏ —Ç–µ–º—É",
        reply_markup=markup
    )


@bot.callback_query_handler(func=lambda call: True)
def callback(call):
    # ---------- –í–´–ë–û–† –ö–ê–¢–ï–ì–û–†–ò–ò ----------

    if call.data == "cat_size":
        markup = types.InlineKeyboardMarkup()
        markup.add(types.InlineKeyboardButton("–†–∞–∑–º–µ—Ä –Ω–µ –ø–æ–¥–æ—à—ë–ª", callback_data="size_1"))
        markup.add(types.InlineKeyboardButton("–ö–∞–∫ –≤—ã–±—Ä–∞—Ç—å —Ä–∞–∑–º–µ—Ä", callback_data="size_2"))
        markup.add(types.InlineKeyboardButton("–ó–∞–º–µ—Ä—ã / –ø–∞—Ä–∞–º–µ—Ç—Ä—ã", callback_data="size_3"))
        bot.send_message(
            call.message.chat.id,
            "–†–∞–∑–º–µ—Ä / –ø—Ä–∏–º–µ—Ä–∫–∞ ‚Äî –≤—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω:",
            reply_markup=markup
        )

    elif call.data == "cat_delivery":
        markup = types.InlineKeyboardMarkup()
        markup.add(types.InlineKeyboardButton("–ì–¥–µ –º–æ–π –∑–∞–∫–∞–∑?", callback_data="delivery_1"))
        markup.add(types.InlineKeyboardButton("–ó–∞–¥–µ—Ä–∂–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏", callback_data="delivery_2"))
        markup.add(types.InlineKeyboardButton("–ö–æ–≥–¥–∞ –ø—Ä–∏–µ–¥–µ—Ç –≤ –ü–í–ó", callback_data="delivery_3"))
        bot.send_message(
            call.message.chat.id,
            "–î–æ—Å—Ç–∞–≤–∫–∞ / –∑–∞–¥–µ—Ä–∂–∫–∞ ‚Äî –≤—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω:",
            reply_markup=markup
        )

    elif call.data == "cat_pvz":
        markup = types.InlineKeyboardMarkup()
        markup.add(types.InlineKeyboardButton("–ü–í–ó –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –ø–æ—Å—ã–ª–∫—É", callback_data="pvz_1"))
        markup.add(types.InlineKeyboardButton("–°–∫–∞–Ω –Ω–µ –ø—Ä–æ—à—ë–ª / –Ω–µ –≤—ã–¥–∞—é—Ç", callback_data="pvz_2"))
        bot.send_message(
            call.message.chat.id,
            "–ü–í–ó / –ø–æ—Ç–µ—Ä—è–ª–æ—Å—å ‚Äî –≤—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω:",
            reply_markup=markup
        )

    elif call.data == "cat_return":
        markup = types.InlineKeyboardMarkup()
        markup.add(types.InlineKeyboardButton("–ö–∞–∫ –æ—Ñ–æ—Ä–º–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç", callback_data="return_1"))
        markup.add(types.InlineKeyboardButton("–ë—Ä–∞–∫ / –¥–µ—Ñ–µ–∫—Ç", callback_data="return_2"))
        markup.add(types.InlineKeyboardButton("–§–æ—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã", callback_data="return_3"))
        bot.send_message(
            call.message.chat.id,
            "–í–æ–∑–≤—Ä–∞—Ç / –±—Ä–∞–∫ ‚Äî –≤—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω:",
            reply_markup=markup
        )

    elif call.data == "cat_price":
        markup = types.InlineKeyboardMarkup()
        markup.add(types.InlineKeyboardButton("–î–∞–¥–∏—Ç–µ —Å–∫–∏–¥–∫—É?", callback_data="price_1"))
        markup.add(types.InlineKeyboardButton("–¶–µ–Ω–∞ —Å—Ç–∞–ª–∞ –≤—ã—à–µ", callback_data="price_2"))
        bot.send_message(
            call.message.chat.id,
            "–¶–µ–Ω–∞ / —Å–∫–∏–¥–∫–∏ ‚Äî –≤—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω:",
            reply_markup=markup
        )

    elif call.data == "cat_emotion":
        markup = types.InlineKeyboardMarkup()
        markup.add(types.InlineKeyboardButton("–ù–µ–≥–∞—Ç–∏–≤ / –∞–≥—Ä–µ—Å—Å–∏—è", callback_data="emotion_1"))
        markup.add(types.InlineKeyboardButton("–ü–µ—Ä–µ–≤–µ—Å—Ç–∏ –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–∏–≤", callback_data="emotion_2"))
        markup.add(types.InlineKeyboardButton("–û—Ç–≤–µ—Ç –Ω–∞ —Ö–æ—Ä–æ—à–∏–π –æ—Ç–∑—ã–≤", callback_data="emotion_3"))
        bot.send_message(
            call.message.chat.id,
            "–≠–º–æ—Ü–∏–∏ / –æ—Ç–∑—ã–≤—ã ‚Äî –≤—ã–±–µ—Ä–∏ —à–∞–±–ª–æ–Ω:",
            reply_markup=markup
        )

    # ---------- –ö–û–ù–ö–†–ï–¢–ù–´–ï –®–ê–ë–õ–û–ù–´ ----------

    elif call.data == "size_1":
        bot.send_message(
            call.message.chat.id,
            "–ü–æ–Ω–∏–º–∞—é, —Ç–∞–∫–æ–µ –±—ã–≤–∞–µ—Ç üòå –î–∞–≤–∞–π—Ç–µ –æ—Ñ–æ—Ä–º–∏–º –≤–æ–∑–≤—Ä–∞—Ç —á–µ—Ä–µ–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ WB: "
            "–∑–∞–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª ‚Äú–ú–æ–∏ –∑–∞–∫–∞–∑—ã‚Äù, –≤—ã–±–µ—Ä–∏—Ç–µ —Ç–æ–≤–∞—Ä –∏ –Ω–∞–∂–º–∏—Ç–µ ‚Äú–û—Ñ–æ—Ä–º–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç‚Äù. "
            "–ï—Å–ª–∏ –±—É–¥–µ—Ç —É–¥–æ–±–Ω–æ ‚Äî –ø–æ–¥–±–µ—Ä—É –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É –ø–æ —Ä–∞–∑–º–µ—Ä—É/–º–æ–¥–µ–ª–∏."
        )

    elif call.data == "size_2":
        bot.send_message(
            call.message.chat.id,
            "–ü–æ —Ä–∞–∑–º–µ—Ä—É –ª—É—á—à–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ –≤–∞—à—É –æ–±—ã—á–Ω—É—é —Ä–∞–∑–º–µ—Ä–Ω—É—é —Å–µ—Ç–∫—É –∏ –æ—Ç–∑—ã–≤—ã –ø–æ–∫—É–ø–∞—Ç–µ–ª–µ–π. "
            "–ï—Å–ª–∏ —Å–æ–º–Ω–µ–≤–∞–µ—Ç–µ—Å—å ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ, –∫–∞–∫–æ–π —Ä–∞–∑–º–µ—Ä –æ–±—ã—á–Ω–æ –Ω–æ—Å–∏—Ç–µ (—Ä–æ—Å—Ç, –≤–µ—Å, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã), "
            "—è –ø–æ–¥—Å–∫–∞–∂—É, –∫–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–±—Ä–∞—Ç—å —É –Ω–∞—Å."
        )

    elif call.data == "size_3":
        bot.send_message(
            call.message.chat.id,
            "–ú–æ–≥—É –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å –ø–æ –∑–∞–º–µ—Ä–∞–º, —á—Ç–æ–±—ã –≤—ã –ø–æ–ø–∞–ª–∏ –≤ —Ä–∞–∑–º–µ—Ä. "
            "–ù–∞–ø–∏—à–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∫–∞–∫–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω—Ç–µ—Ä–µ—Å—É—é—Ç (–¥–ª–∏–Ω–∞, —à–∏—Ä–∏–Ω–∞, –û–ë/–û–¢/–û–ì –∏ —Ç.–ø.), "
            "–∏ —è —Å–≤–µ—Ä—é –ø–æ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –º–æ–¥–µ–ª–∏."
        )

    elif call.data == "delivery_1":
        bot.send_message(
            call.message.chat.id,
            "–°—Ç–∞—Ç—É—Å –∑–∞–∫–∞–∑–∞ –º–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ WB –≤ —Ä–∞–∑–¥–µ–ª–µ ‚Äú–ú–æ–∏ –∑–∞–∫–∞–∑—ã‚Äù. "
            "–°–µ–π—á–∞—Å —É –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–æ–≤ –±—ã–≤–∞—é—Ç –∑–∞–¥–µ—Ä–∂–∫–∏ –ø–æ –ª–æ–≥–∏—Å—Ç–∏–∫–µ, "
            "–Ω–æ –∑–∞–∫–∞–∑ –æ–±—ã—á–Ω–æ –¥–æ–µ–∑–∂–∞–µ—Ç –≤ –±–ª–∏–∂–∞–π—à–∏–µ –¥–Ω–∏. "
            "–ï—Å–ª–∏ –ø–æ —Å—Ä–æ–∫–∞–º –±—É–¥–µ—Ç –∫—Ä–∏—Ç–∏—á–Ω–æ ‚Äî –Ω–∞–ø–∏—à–∏—Ç–µ, –ø–æ—Å—Ç–∞—Ä–∞—é—Å—å –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å –≤–∞—Ä–∏–∞–Ω—Ç—ã."
        )

    elif call.data == "delivery_2":
        bot.send_message(
            call.message.chat.id,
            "–í–∏–∂—É, —á—Ç–æ –¥–æ—Å—Ç–∞–≤–∫–∞ –∑–∞–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è, –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ —ç—Ç–æ –Ω–µ–ø—Ä–∏—è—Ç–Ω–æ. "
            "–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –∑–∞ —Å—Ä–æ–∫–∏ –æ—Ç–≤–µ—á–∞–µ—Ç –ª–æ–≥–∏—Å—Ç–∏–∫–∞ WB, –ø—Ä–æ–¥–∞–≤–µ—Ü –Ω–µ –º–æ–∂–µ—Ç –∏—Ö –∏–∑–º–µ–Ω–∏—Ç—å. "
            "–û–±—ã—á–Ω–æ –≤ —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –∑–∞–∫–∞–∑ –≤—Å—ë –∂–µ –ø—Ä–∏–µ–∑–∂–∞–µ—Ç –≤ —Ç–µ—á–µ–Ω–∏–µ 1‚Äì3 –¥–Ω–µ–π —Å–≤–µ—Ä—Ö –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –¥–∞—Ç—ã."
        )

    elif call.data == "delivery_3":
        bot.send_message(
            call.message.chat.id,
            "–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è –¥–∞—Ç–∞ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤ –ü–í–ó –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ WB –≤ –∫–∞—Ä—Ç–æ—á–∫–µ –∑–∞–∫–∞–∑–∞. "
            "–ö–∞–∫ —Ç–æ–ª—å–∫–æ –ø–æ—Å—ã–ª–∫–∞ –ø—Ä–∏–µ–¥–µ—Ç –≤ –ø—É–Ω–∫—Ç –≤—ã–¥–∞—á–∏, WB –ø—Ä–∏—à–ª—ë—Ç –≤–∞–º –ø—É—à‚Äë—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –∏ SMS (–µ—Å–ª–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω—ã). "
            "–ï—Å–ª–∏ —Å—Ä–æ–∫ —Å–∏–ª—å–Ω–æ –≤—ã–π–¥–µ—Ç –∑–∞ –æ–±–µ—â–∞–Ω–Ω—ã–π ‚Äî –º–æ–∂–Ω–æ –Ω–∞–ø–∏—Å–∞—Ç—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É WB —á–µ—Ä–µ–∑ –∑–∞–∫–∞–∑."
        )

    elif call.data == "pvz_1":
        bot.send_message(
            call.message.chat.id,
            "–ï—Å–ª–∏ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ WB –∑–∞–∫–∞–∑ —á–∏—Å–ª–∏—Ç—Å—è ‚Äú–í –ü–í–ó‚Äù, –Ω–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ø—É–Ω–∫—Ç–∞ –≤—ã–¥–∞—á–∏ –Ω–µ –Ω–∞—Ö–æ–¥—è—Ç –µ–≥–æ –ø–æ –∫–æ–¥—É, "
            "–Ω—É–∂–Ω–æ —Å—Ä–∞–∑—É –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –ø–æ–¥–¥–µ—Ä–∂–∫—É WB –Ω–∞–ø—Ä—è–º—É—é –∏–∑ –∑–∞–∫–∞–∑–∞. "
            "–û–±—ã—á–Ω–æ –ø–æ—Å–ª–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∑–∞–∫–∞–∑ –ª–∏–±–æ –Ω–∞—Ö–æ–¥—è—Ç, –ª–∏–±–æ –æ—Ñ–æ—Ä–º–ª—è—é—Ç –≤–æ–∑–≤—Ä–∞—Ç —Å—Ä–µ–¥—Å—Ç–≤."
        )

    elif call.data == "pvz_2":
        bot.send_message(
            call.message.chat.id,
            "–ï—Å–ª–∏ —Å–∫–∞–Ω‚Äë–∫–æ–¥ –Ω–µ —Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–ª–∏ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏ –ü–í–ó –Ω–µ –≤—ã–¥–∞—é—Ç –∑–∞–∫–∞–∑, "
            "—Å–¥–µ–ª–∞–π—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–∫—Ä–∏–Ω —Å—Ç–∞—Ç—É—Å–∞ –∑–∞–∫–∞–∑–∞ –∏ –æ–±—Ä–∞—Ç–∏—Ç–µ—Å—å –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É WB –∏–∑ —ç—Ç–æ–≥–æ –∑–∞–∫–∞–∑–∞. "
            "–¢–æ–ª—å–∫–æ –æ–Ω–∏ –º–æ–≥—É—Ç –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —Ä–µ—à–∏—Ç—å –≤–æ–ø—Ä–æ—Å –ø–æ –ü–í–ó –∏–ª–∏ –æ—Ñ–æ—Ä–º–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç –¥–µ–Ω–µ–≥."
        )

    elif call.data == "return_1":
        bot.send_message(
            call.message.chat.id,
            "–û—Ñ–æ—Ä–º–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç –º–æ–∂–Ω–æ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ WB: –æ—Ç–∫—Ä–æ–π—Ç–µ –∑–∞–∫–∞–∑, "
            "–Ω–∞–∂–º–∏—Ç–µ ‚Äú–û—Ñ–æ—Ä–º–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç‚Äù –∏ —Å–ª–µ–¥—É–π—Ç–µ —à–∞–≥–∞–º. "
            "–î–µ–Ω—å–≥–∏ –≤–µ—Ä–Ω—É—Ç —Ç–µ–º –∂–µ —Å–ø–æ—Å–æ–±–æ–º, –∫–æ—Ç–æ—Ä—ã–º –æ–ø–ª–∞—á–∏–≤–∞–ª–∏, "
            "–ø–æ—Å–ª–µ —Ç–æ–≥–æ –∫–∞–∫ —Ç–æ–≤–∞—Ä –≤–µ—Ä–Ω—ë—Ç—Å—è –Ω–∞ —Å–∫–ª–∞–¥ –∏ –µ–≥–æ –ø—Ä–∏–º—É—Ç."
        )

    elif call.data == "return_2":
        bot.send_message(
            call.message.chat.id,
            "–û—á–µ–Ω—å –∂–∞–ª—å, —á—Ç–æ –≤—ã —Å—Ç–æ–ª–∫–Ω—É–ª–∏—Å—å —Å –±—Ä–∞–∫–æ–º üòî "
            "–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, —Å–¥–µ–ª–∞–π—Ç–µ —Ñ–æ—Ç–æ –¥–µ—Ñ–µ–∫—Ç–∞ –∏ –ø—Ä–∏–ª–æ–∂–∏—Ç–µ –µ–≥–æ –≤ –æ–±—Ä–∞—â–µ–Ω–∏–∏ —á–µ—Ä–µ–∑ –∑–∞–∫–∞–∑ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ WB. "
            "–¢–∞–º –∂–µ –º–æ–∂–Ω–æ –æ—Ñ–æ—Ä–º–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç, –∞ –ø–æ —Ñ–æ—Ç–æ —è —Å–º–æ–≥—É –ø–µ—Ä–µ–¥–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ —Å–∫–ª–∞–¥, "
            "—á—Ç–æ–±—ã —Ç–∞–∫–æ–µ –±–æ–ª—å—à–µ –Ω–µ —É—Ö–æ–¥–∏–ª–æ –¥—Ä—É–≥–∏–º –∫–ª–∏–µ–Ω—Ç–∞–º."
        )

    elif call.data == "return_3":
        bot.send_message(
            call.message.chat.id,
            "–ü—Ä–∏—à–ª–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, —Ñ–æ—Ç–æ –ø—Ä–æ–±–ª–µ–º—ã (–æ–±—â–∏–π –≤–∏–¥ –∏ –∫—Ä—É–ø–Ω—ã–π –ø–ª–∞–Ω –¥–µ—Ñ–µ–∫—Ç–∞). "
            "–¢–∞–∫ —è —Å–º–æ–≥—É —Ç–æ—á–Ω–µ–µ –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –ª—É—á—à–µ –æ—Ñ–æ—Ä–º–∏—Ç—å –≤–æ–∑–≤—Ä–∞—Ç –∏–ª–∏ –æ–±–º–µ–Ω, "
            "–∏ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –Ω–∞ —Å–∫–ª–∞–¥."
        )

    elif call.data == "price_1":
        bot.send_message(
            call.message.chat.id,
            "–ù–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ —Ü–µ–Ω–∞ –∏ –∞–∫—Ü–∏–∏ –∑–∞–≤–∏—Å—è—Ç –æ—Ç –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø–ª–æ—â–∞–¥–∫–∏ –∏ –¥–µ–π—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–º–æ, "
            "—è —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –Ω–µ –º–æ–≥—É –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é —Ü–µ–Ω—É –¥–ª—è –æ–¥–Ω–æ–≥–æ –∑–∞–∫–∞–∑–∞. "
            "–†–µ–∫–æ–º–µ–Ω–¥—É—é –¥–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ ‚Äî WB —á–∞—Å—Ç–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥—ã "
            "–∏ –∞–∫—Ü–∏–∏ –∏–º–µ–Ω–Ω–æ –Ω–∞ —Ç–∞–∫–∏–µ –ø–æ–∑–∏—Ü–∏–∏."
        )

    elif call.data == "price_2":
        bot.send_message(
            call.message.chat.id,
            "–¶–µ–Ω—ã –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–µ –º–æ–≥—É—Ç –º–µ–Ω—è—Ç—å—Å—è –∏–∑‚Äë–∑–∞ –∞–∫—Ü–∏–π, —Å–∫–∏–¥–æ–∫ –∏ —É—Å–ª–æ–≤–∏–π —Å–∞–º–æ–π –ø–ª–æ—â–∞–¥–∫–∏. "
            "–í –∫–∞–∫–æ–π‚Äë—Ç–æ –ø–µ—Ä–∏–æ–¥ —Ç–æ–≤–∞—Ä –º–æ–≥ –ø–æ–ø–∞–¥–∞—Ç—å –ø–æ–¥ –ø—Ä–æ–º–æ, –ø–æ—ç—Ç–æ–º—É —Ü–µ–Ω–∞ –±—ã–ª–∞ –Ω–∏–∂–µ. "
            "–°–µ–π—á–∞—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∞–∫—Ç—É–∞–ª—å–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å, –Ω–æ –Ω–µ –∏—Å–∫–ª—é—á–µ–Ω–æ, —á—Ç–æ WB –≤–µ—Ä–Ω—ë—Ç —Å–∫–∏–¥–∫—É –ø–æ–∑–∂–µ."
        )

    elif call.data == "emotion_1":
        bot.send_message(
            call.message.chat.id,
            "–ü–æ–Ω–∏–º–∞—é –≤–∞—à–∏ —ç–º–æ—Ü–∏–∏ –∏ –ø—Ä–∞–≤–¥–∞ –Ω–µ —Ö–æ—á—É, —á—Ç–æ–±—ã —É –≤–∞—Å –æ—Å—Ç–∞–ª—Å—è –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π –æ–ø—ã—Ç. "
            "–î–∞–≤–∞–π—Ç–µ –ø–æ —à–∞–≥–∞–º —Ä–∞–∑–±–µ—Ä—ë–º, —á—Ç–æ –∏–º–µ–Ω–Ω–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫: "
            "–Ω–∞–ø–∏—à–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤ —á—ë–º –æ—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞ (–∫–∞—á–µ—Å—Ç–≤–æ, –¥–æ—Å—Ç–∞–≤–∫–∞, –ü–í–ó, –≤–æ–∑–≤—Ä–∞—Ç), "
            "–∏ —è –ø–æ–¥—Å–∫–∞–∂—É, —á—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –≤ –≤–∞—à–µ–π —Å–∏—Ç—É–∞—Ü–∏–∏."
        )

    elif call.data == "emotion_2":
        bot.send_message(
            call.message.chat.id,
            "–í–∏–∂—É, —á—Ç–æ —Å–∏—Ç—É–∞—Ü–∏—è –≤–∞—Å –∑–∞–¥–µ–ª–∞, –∏ —ç—Ç–æ –Ω–æ—Ä–º–∞–ª—å–Ω–æ. "
            "–î–∞–≤–∞–π—Ç–µ –ø–æ–ø—Ä–æ–±—É–µ–º –≤–º–µ—Å—Ç–µ —Ä–µ—à–∏—Ç—å –≤–æ–ø—Ä–æ—Å: –æ–ø–∏—à–∏—Ç–µ, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –∫–æ—Ä–æ—Ç–∫–æ, —á—Ç–æ –ø—Ä–æ–∏–∑–æ—à–ª–æ "
            "–∏ –∫–∞–∫–æ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã –±—ã —Ö–æ—Ç–µ–ª–∏ –ø–æ–ª—É—á–∏—Ç—å (–æ–±–º–µ–Ω, –≤–æ–∑–≤—Ä–∞—Ç, –ø–æ–¥—Å–∫–∞–∑–∫–∞ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ —Ç.–ø.)."
        )

    elif call.data == "emotion_3":
        bot.send_message(
            call.message.chat.id,
            "–°–ø–∞—Å–∏–±–æ –≤–∞–º –±–æ–ª—å—à–æ–µ –∑–∞ –æ—Ç–∑—ã–≤ –∏ –¥–æ–≤–µ—Ä–∏–µ üôå "
            "–ù–∞–º –æ—á–µ–Ω—å –ø—Ä–∏—è—Ç–Ω–æ, —á—Ç–æ —Ç–æ–≤–∞—Ä –≤–∞–º –ø–æ–¥–æ—à—ë–ª. "
            "–í–∞—à–∏ –æ—Ç–∑—ã–≤—ã –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–º —É–ª—É—á—à–∞—Ç—å –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç –∏ —Å–µ—Ä–≤–∏—Å, "
            "–∞ –¥—Ä—É–≥–∏–º –ø–æ–∫—É–ø–∞—Ç–µ–ª—è–º ‚Äî –ø—Ä–æ—â–µ –≤—ã–±–∏—Ä–∞—Ç—å."
        )


# ---------- –ù–û–ß–ù–û–ô –†–ï–ñ–ò–ú –ò –û–ü–õ–ê–¢–ê ----------

@bot.message_handler(commands=['night'])
def night(message):
    if is_night():
        bot.reply_to(
            message,
            'üåô –ù–æ—á—å! –ê–≤—Ç–æ-–æ—Ç–≤–µ—Ç: "900 MSK, —Å—Ç–∞—Ç—É—Å —É—Ç—Ä–æ–º"'
        )
    else:
        bot.reply_to(
            message,
            '‚òÄÔ∏è –°–µ–π—á–∞—Å –¥–µ–Ω—å. –ò—Å–ø–æ–ª—å–∑—É–π /track!'
        )


@bot.message_handler(commands=['pay'])
def pay(message):
    markup = types.InlineKeyboardMarkup()
    btn = types.InlineKeyboardButton(
        '300‚ÇΩ QR YooKassa',
        url='https://yoomoney.ru/to41001750951472'  # —Ç–≤–æ—è –∫–∞—Å—Å–∞
    )
    markup.add(btn)
    bot.send_message(
        message.chat.id,
        'üí≥ 300‚ÇΩ/–º–µ—Å TrackOrderPro',
        reply_markup=markup
    )


if __name__ == "__main__":
    print("–ë–æ—Ç –∑–∞–ø—É—â–µ–Ω (MVP –±–µ–∑ WB API).")
    bot.infinity_polling()
