# üîó **–î–û–ö–£–ú–ï–ù–¢ 5: –≠–ö–û–°–ò–°–¢–ï–ú–ê –ò –ò–ù–¢–ï–ì–†–ê–¶–ò–ò (–¥–ª—è –æ–¥–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞)**

## üéØ **–¶–ï–õ–¨ –ü–†–û–ï–ö–¢–ê:**

- **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** –¥–æ 1,000
- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** 1 —á–µ–ª–æ–≤–µ–∫
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:** –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ, —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å:** –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –æ–¥–Ω–∏–º —á–µ–ª–æ–≤–µ–∫–æ–º

## 1. üèóÔ∏è **–ú–ò–ù–ò–ú–ê–õ–¨–ù–ê–Ø –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –î–õ–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–ô:**

```python
# –ü—Ä–æ—Å—Ç–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
project/
‚îú‚îÄ‚îÄ core/
‚îÇ   ‚îú‚îÄ‚îÄ config.py          # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –í–°–ï–• –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
‚îÇ   ‚îî‚îÄ‚îÄ database.py        # –ü—Ä–æ—Å—Ç–∞—è –ë–î (SQLite/PostgreSQL)
‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îú‚îÄ‚îÄ api_client.py      # –û–¥–∏–Ω –∫–ª–∏–µ–Ω—Ç –¥–ª—è –≤—Å–µ—Ö API
‚îÇ   ‚îî‚îÄ‚îÄ rate_limiter.py    # –ë–∞–∑–æ–≤—ã–π rate limiting
‚îî‚îÄ‚îÄ handlers/              # –í—Å—ë –≤ —Ö–µ–Ω–¥–ª–µ—Ä–∞—Ö
```

## 2. üîå **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ò–ù–¢–ï–ì–†–ê–¶–ò–ò (–±–µ–∑ –Ω–∏—Ö –ø—Ä–æ–µ–∫—Ç –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç):**

### **2.1 Telegram API (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)**

```python
# core/config.py
TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN")

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
import telebot
bot = telebot.TeleBot(TELEGRAM_BOT_TOKEN)
```

### **2.2 –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)**

```python
# –í—ã–±–æ—Ä –ë–î:
# - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞: SQLite (–ø—Ä–æ—Å—Ç–æ—Ç–∞)
# - –ü—Ä–æ–¥–∞–∫—à–µ–Ω: PostgreSQL (–Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å)

# core/database.py - –æ–¥–∏–Ω —Ñ–∞–π–ª –Ω–∞ –≤—Å—ë
class Database:
    def __init__(self):
        self.engine = create_engine(DATABASE_URL)
        self.Session = sessionmaker(bind=self.engine)
```

## 3. üì¶ **–û–ü–¶–ò–û–ù–ê–õ–¨–ù–´–ï –ò–ù–¢–ï–ì–†–ê–¶–ò–ò (–¥–æ–±–∞–≤–ª—è—Ç—å –ø–æ –º–µ—Ä–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏):**

### **3.1 –ü–ª–∞—Ç—ë–∂–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ (–∫–æ–≥–¥–∞ –Ω—É–∂–Ω–∞ –º–æ–Ω–µ—Ç–∏–∑–∞—Ü–∏—è)**

```python
# –¢–æ–ª—å–∫–æ –û–î–ù–ê —Å–∏—Å—Ç–µ–º–∞ (–Ω–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ):
# - –ÆKassa (–¥–ª—è –†–§)
# –ò–õ–ò
# - Stripe (–¥–ª—è –º–µ–∂–¥—É–Ω–∞—Ä–æ–¥–Ω—ã—Ö)

# utils/payments.py - –ø—Ä–æ—Å—Ç–æ–π –∫–ª–∏–µ–Ω—Ç
class PaymentClient:
    def create_payment(self, user_id, amount):
        """–°–æ–∑–¥–∞—ë—Ç –ø–ª–∞—Ç—ë–∂ - –æ–¥–Ω–∞ –ø—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
```

### **3.2 –¢—Ä–µ–∫–∏–Ω–≥ –∑–∞–∫–∞–∑–æ–≤ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)**

```python
# –¢–æ–ª—å–∫–æ –û–î–ò–ù —Å–µ—Ä–≤–∏—Å:
# - –°–î–≠–ö API
# –ò–õ–ò
# - –ü–æ—á—Ç–∞ –†–æ—Å—Å–∏–∏ API

# utils/tracking.py - –ø—Ä–æ—Å—Ç–æ–π –∫–ª–∏–µ–Ω—Ç
class TrackingClient:
    def get_status(self, track_number):
        """–ü–æ–ª—É—á–∞–µ—Ç —Å—Ç–∞—Ç—É—Å - –æ–¥–Ω–∞ –ø—Ä–æ—Å—Ç–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
```

## 4. üö´ **–ß–ï–ì–û –ù–ï –î–ï–õ–ê–¢–¨ (–¥–ª—è –æ–¥–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞):**

### **‚ùå –ù–ï –î–ï–õ–ê–¢–¨:**

1. **–ù–µ –ø–æ–¥–∫–ª—é—á–∞—Ç—å –±–æ–ª–µ–µ 3 –≤–Ω–µ—à–Ω–∏—Ö API**
2. **–ù–µ –¥–µ–ª–∞—Ç—å –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã**
3. **–ù–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ webhook-—Å–∏—Å—Ç–µ–º—ã**
4. **–ù–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–æ –≤—Å–µ–º–∏ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞–º–∏ —Å—Ä–∞–∑—É**
5. **–ù–µ –¥–µ–ª–∞—Ç—å —Å–≤–æ—é —Å–∏—Å—Ç–µ–º—É –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏**

### **‚úÖ –î–ï–õ–ê–¢–¨:**

1. **‚úÖ 1-2 –≤–Ω–µ—à–Ω–∏—Ö API –º–∞–∫—Å–∏–º—É–º**
2. \*\*‚úÖ –º–æ–¥—É–ª—å–Ω—ã–π –º–æ–Ω–æ–ª–∏—Ç
3. **‚úÖ –ü—Ä–æ—Å—Ç—ã–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –≤—ã–∑–æ–≤—ã (–Ω–µ async –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–æ)**
4. **‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –∏–ª–∏ Redis (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ)**
5. **‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—ã–∑–æ–≤–æ–≤ API**

## 5. üîß **–®–ê–ë–õ–û–ù –î–õ–Ø –õ–Æ–ë–û–ô –ò–ù–¢–ï–ì–†–ê–¶–ò–ò:**

```python
# utils/api_client.py - –®–ê–ë–õ–û–ù –î–õ–Ø –í–°–ï–• API
class SimpleAPIClient:
    """–ü—Ä–æ—Å—Ç–æ–π –∫–ª–∏–µ–Ω—Ç –¥–ª—è –õ–Æ–ë–û–ì–û API"""

    def __init__(self, base_url, api_key=None):
        self.base_url = base_url
        self.api_key = api_key
        self.session = requests.Session()  # –û–¥–Ω–∞ —Å–µ—Å—Å–∏—è –Ω–∞ –≤—Å—ë

    def request(self, method, endpoint, **kwargs):
        """–û–¥–∏–Ω –º–µ—Ç–æ–¥ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤"""
        url = f"{self.base_url}/{endpoint}"

        # –î–æ–±–∞–≤–ª—è–µ–º API –∫–ª—é—á –µ—Å–ª–∏ –µ—Å—Ç—å
        if self.api_key:
            kwargs['headers'] = kwargs.get('headers', {})
            kwargs['headers']['Authorization'] = f"Bearer {self.api_key}"

        try:
            response = self.session.request(method, url, **kwargs)
            response.raise_for_status()  # –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—à–∏–±–æ–∫
            return response.json()
        except Exception as e:
            # –ü—Ä–æ—Å—Ç–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–∫–∏
            print(f"API Error: {e}")
            return None
```

## 6. ‚ö° **–ë–´–°–¢–†–´–ï –ò–ù–¢–ï–ì–†–ê–¶–ò–ò (–≥–æ—Ç–æ–≤—ã–µ –ø—Ä–∏–º–µ—Ä—ã):**

### **6.1 –ÆKassa (–ø–ª–∞—Ç–µ–∂–∏)**

```python
# –ü—Ä–æ—Å—Ç–µ–π—à–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
def create_yookassa_payment(amount, description):
    """–°–æ–∑–¥–∞—ë—Ç –ø–ª–∞—Ç—ë–∂ –≤ –ÆKassa"""
    client = SimpleAPIClient(
        base_url="https://api.yookassa.ru/v3",
        api_key=os.getenv("YOOKASSA_API_KEY")
    )

    return client.request("POST", "payments", json={
        "amount": {"value": amount, "currency": "RUB"},
        "description": description
    })
```

### **6.2 –°–î–≠–ö (—Ç—Ä–µ–∫–∏–Ω–≥)**

```python
def track_cdek_order(track_number):
    """–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∑–∞–∫–∞–∑ –≤ –°–î–≠–ö"""
    client = SimpleAPIClient(
        base_url="https://api.cdek.ru/v2",
        api_key=os.getenv("CDEK_API_KEY")
    )

    return client.request("GET", f"orders/{track_number}/status")
```

## 7. üõ°Ô∏è **–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ò–ù–¢–ï–ì–†–ê–¶–ò–ô:**

```python
# –ú–ò–ù–ò–ú–£–ú –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
SECURITY_RULES = {
    "api_keys": "–•—Ä–∞–Ω–∏—Ç—å —Ç–æ–ª—å–∫–æ –≤ .env",
    "requests": "–í—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HTTPS",
    "data": "–ù–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ",
    "limits": "–î–æ–±–∞–≤–∏—Ç—å rate limiting",
    "errors": "–ù–µ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º"
}
```

## 8. üìä **–ú–û–ù–ò–¢–û–†–ò–ù–ì –ò–ù–¢–ï–ì–†–ê–¶–ò–ô:**

```python
# –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–æ—Å—Ç–æ–≥–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:
import logging

logging.basicConfig(
    level=logging.INFO,
    format='%(asctime)s - %(name)s - %(levelname)s - %(message)s',
    filename='integrations.log'
)

# –í –∫–∞–∂–¥–æ–º –≤—ã–∑–æ–≤–µ API:
logger.info(f"API call: {api_name}, endpoint: {endpoint}")
```

## 9. üéØ **–ü–†–ò–ù–¶–ò–ü–´ –î–õ–Ø –û–î–ù–û–ì–û –†–ê–ó–†–ê–ë–û–¢–ß–ò–ö–ê:**

### **–ü—Ä–∞–≤–∏–ª–æ 1: "–û–¥–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è = –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞"**

–ù–µ –¥–æ–±–∞–≤–ª—è—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é "–Ω–∞ –±—É–¥—É—â–µ–µ", —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ —Ç–æ—á–Ω–æ –Ω—É–∂–Ω–æ.

### **–ü—Ä–∞–≤–∏–ª–æ 2: "–ú–∏–Ω–∏–º—É–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π"**

–ö–∞–∂–¥–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è = –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏. –û—Ü–µ–Ω–∏–≤–∞—Ç—å –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å.

### **–ü—Ä–∞–≤–∏–ª–æ 3: "–ü—Ä–æ—Å—Ç–æ—Ç–∞ –≤–∞–∂–Ω–µ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç–∏"**

–î–µ–ª–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å–º–æ–∂–µ—Ç–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.

### **–ü—Ä–∞–≤–∏–ª–æ 4: "–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –í–°–Å"**

–ö–∞–∂–¥—É—é –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —ç—Ç–æ–º —Ñ–∞–π–ª–µ.

### **–ü—Ä–∞–≤–∏–ª–æ 5: "–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–ª—è—Ü–∏—é"**

–ï—Å–ª–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —É–ø–∞–¥—ë—Ç, –æ—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–æ–ª–∂–Ω–∞ —Ä–∞–±–æ—Ç–∞—Ç—å.

## 10. üìã **–ß–ï–ö-–õ–ò–°–¢ –î–û–ë–ê–í–õ–ï–ù–ò–Ø –ù–û–í–û–ô –ò–ù–¢–ï–ì–†–ê–¶–ò–ò:**

**–ü–µ—Ä–µ–¥ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º —Å–ø—Ä–æ—Å–∏—Ç—å:**

1. ‚úÖ –î–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –ª–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ?
2. ‚úÖ –ï—Å—Ç—å –ª–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –∫–≤–æ—Ç–∞/—Ç–∞—Ä–∏—Ñ?
3. ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –ª–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —É API?
4. ‚úÖ –ù—É–∂–Ω—ã –ª–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏?
5. ‚úÖ –ß—Ç–æ –±—É–¥–µ—Ç –µ—Å–ª–∏ API –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å?

**–¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –Ω–∞ –í–°–ï –≤–æ–ø—Ä–æ—Å—ã –î–ê ‚Äî –¥–æ–±–∞–≤–ª—è—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é.**

---

## üéØ **–ò–ù–°–¢–†–£–ö–¶–ò–Ø –î–õ–Ø –ò–ò:**

**–ü–†–ò –ü–†–ï–î–õ–û–ñ–ï–ù–ò–ò –ù–û–í–û–ô –ò–ù–¢–ï–ì–†–ê–¶–ò–ò:**

1. ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ —á–µ–∫-–ª–∏—Å—Ç—É –≤—ã—à–µ
2. ‚úÖ –ü—Ä–µ–¥–ª–æ–∂–∏—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø—Ä–æ—Å—Ç—É—é —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
3. ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —à–∞–±–ª–æ–Ω SimpleAPIClient
4. ‚úÖ –ù–µ –ø—Ä–µ–¥–ª–∞–≥–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è
5. ‚úÖ –ü–æ–º–Ω–∏—Ç—å —á—Ç–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ –æ–¥–∏–Ω

**–î–µ–ª–∞—Ç—å –ú–ò–ù–ò–ú–£–ú, –Ω–æ –ö–ê–ß–ï–°–¢–í–ï–ù–ù–û.**

---

**¬© –î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ —Å —Ü–µ–ª—å—é –¥–æ 1,000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π**
**–í–µ—Ä—Å–∏—è: 1.0 | –î–∞—Ç–∞: 2026-02-08 | –°—Ç–∞—Ç—É—Å: –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ô**
